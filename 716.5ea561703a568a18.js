"use strict";(self.webpackChunkshanno_app_ui=self.webpackChunkshanno_app_ui||[]).push([[716],{9716:(y,u,i)=>{i.r(u),i.d(u,{default:()=>q});var h=i(3821),t=i(5879),r=i(2154),s=i(6814);function _(e,l){if(1&e&&(t.TgZ(0,"h4",8),t._uU(1,"\n    "),t.TgZ(2,"span",9),t._uU(3),t.qZA(),t._uU(4,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(n.health.key)}}function d(e,l){if(1&e&&(t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"td",14),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.TgZ(5,"td",14),t._uU(6),t.qZA(),t._uU(7,"\n          "),t.qZA()),2&e){const n=l.$implicit,a=t.oxw(2);t.xp6(3),t.Oqu(n.key),t.xp6(3),t.Oqu(a.readableValue(n.value))}}function p(e,l){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n    "),t.TgZ(2,"h5"),t._uU(3,"Properties"),t.qZA(),t._uU(4,"\n\n    "),t.TgZ(5,"div",10),t._uU(6,"\n      "),t.TgZ(7,"table",11),t._uU(8,"\n        "),t.TgZ(9,"thead"),t._uU(10,"\n          "),t.TgZ(11,"tr"),t._uU(12,"\n            "),t.TgZ(13,"th",12),t._uU(14,"Name"),t.qZA(),t._uU(15,"\n            "),t.TgZ(16,"th",12),t._uU(17,"Value"),t.qZA(),t._uU(18,"\n          "),t.qZA(),t._uU(19,"\n        "),t.qZA(),t._uU(20,"\n        "),t.TgZ(21,"tbody"),t._uU(22,"\n          "),t.YNc(23,d,8,2,"tr",13),t.ALo(24,"keyvalue"),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    "),t.qZA(),t._uU(28,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(23),t.Q6J("ngForOf",t.lcZ(24,1,n.health.value.details))}}let U=(()=>{class e{constructor(n){this.activeModal=n}readableValue(n){if("diskSpace"===this.health?.key){const a=n/1073741824;return a>1?`${a.toFixed(2)} GB`:`${(n/1048576).toFixed(2)} MB`}return"object"==typeof n?JSON.stringify(n):String(n)}dismiss(){this.activeModal.dismiss()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(r.Kz))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["jhi-health-modal"]],standalone:!0,features:[t.jDz],decls:22,vars:2,consts:[[1,"modal-header"],["class","modal-title","id","showHealthLabel",4,"ngIf"],["aria-label","Close","data-dismiss","modal","type","button",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body","pad"],[4,"ngIf"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-secondary","float-start",3,"click"],["id","showHealthLabel",1,"modal-title"],[1,"text-capitalize"],[1,"table-responsive"],["aria-describedby","showHealthLabel",1,"table","table-striped"],["scope","col",1,"text-start"],[4,"ngFor","ngForOf"],[1,"text-start"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.YNc(2,_,5,1,"h4",1),t._uU(3,"\n\n  "),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.dismiss()}),t._uU(5,"\n    "),t.TgZ(6,"span",3),t._uU(7,"\xd7"),t.qZA(),t._uU(8,"\n  "),t.qZA(),t._uU(9,"\n"),t.qZA(),t._uU(10,"\n\n"),t.TgZ(11,"div",4),t._uU(12,"\n  "),t.YNc(13,p,29,3,"div",5),t._uU(14,"\n"),t.qZA(),t._uU(15,"\n\n"),t.TgZ(16,"div",6),t._uU(17,"\n  "),t.TgZ(18,"button",7),t.NdJ("click",function(){return o.dismiss()}),t._uU(19,"Done"),t.qZA(),t._uU(20,"\n"),t.qZA(),t._uU(21,"\n")),2&a&&(t.xp6(2),t.Q6J("ngIf",o.health),t.xp6(11),t.Q6J("ngIf",o.health))},dependencies:[h.Z,s.sg,s.O5,s.Nd],encapsulation:2})}return e})();var Z=i(9862),g=i(8156);let f=(()=>{class e{constructor(n,a){this.http=n,this.applicationConfigService=a}checkHealth(){return this.http.get(this.applicationConfigService.getEndpointFor("management/health"))}static#t=this.\u0275fac=function(a){return new(a||e)(t.LFG(Z.eN),t.LFG(g.y))};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var m=i(5597);function T(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.showHealth({key:o.key,value:o.value}))}),t._uU(1,"\n              "),t._UZ(2,"fa-icon",14),t._uU(3,"\n            "),t.qZA()}}const A=function(){return{UNKNOWN:"UNKNOWN",UP:"UP",OUT_OF_SERVICE:"OUT_OF_SERVICE",DOWN:"DOWN"}};function b(e,l){if(1&e&&(t.TgZ(0,"tr"),t._uU(1,"\n          "),t.TgZ(2,"td"),t._uU(3,"\n            "),t.TgZ(4,"span",9),t._uU(5),t.qZA(),t._uU(6,"\n          "),t.qZA(),t._uU(7,"\n          "),t.TgZ(8,"td",10),t._uU(9,"\n            "),t.TgZ(10,"span",11),t._uU(11),t.qZA(),t._uU(12,"\n          "),t.qZA(),t._uU(13,"\n          "),t.TgZ(14,"td",10),t._uU(15,"\n            "),t.YNc(16,T,4,0,"a",12),t._uU(17,"\n          "),t.qZA(),t._uU(18,"\n        "),t.qZA()),2&e){const n=l.$implicit,a=t.oxw(2);t.xp6(5),t.Oqu(n.key),t.xp6(5),t.Q6J("ngClass",a.getBadgeClass(n.value.status)),t.xp6(1),t.hij("\n              ",t.DdM(4,A)[n.value.status||"UNKNOWN"],"\n            "),t.xp6(5),t.Q6J("ngIf",n.value.details)}}function v(e,l){if(1&e&&(t.TgZ(0,"tbody"),t._uU(1,"\n        "),t.YNc(2,b,19,5,"tr",8),t.ALo(3,"keyvalue"),t._uU(4,"\n      "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,n.health.components))}}let q=(()=>{class e{constructor(n,a){this.modalService=n,this.healthService=a}ngOnInit(){this.refresh()}getBadgeClass(n){return"UP"===n?"bg-success":"bg-danger"}refresh(){this.healthService.checkHealth().subscribe({next:n=>this.health=n,error:n=>{503===n.status&&(this.health=n.error)}})}showHealth(n){this.modalService.open(U).componentInstance.health=n}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(r.FF),t.Y36(f))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["jhi-health"]],standalone:!0,features:[t.jDz],decls:38,vars:1,consts:[["id","health-page-heading","data-cy","healthPageHeading"],[1,"btn","btn-primary","float-end",3,"click"],["icon","sync"],[1,"table-responsive"],["id","healthCheck","aria-describedby","health-page-heading",1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-capitalize"],[1,"text-center"],[1,"badge",3,"ngClass"],["class","hand",3,"click",4,"ngIf"],[1,"hand",3,"click"],["icon","eye"]],template:function(a,o){1&a&&(t.TgZ(0,"div"),t._uU(1,"\n  "),t.TgZ(2,"h2"),t._uU(3,"\n    "),t.TgZ(4,"span",0),t._uU(5,"Health Checks"),t.qZA(),t._uU(6,"\n\n    "),t.TgZ(7,"button",1),t.NdJ("click",function(){return o.refresh()}),t._UZ(8,"fa-icon",2),t._uU(9," "),t.TgZ(10,"span"),t._uU(11,"Refresh"),t.qZA()(),t._uU(12,"\n  "),t.qZA(),t._uU(13,"\n\n  "),t.TgZ(14,"div",3),t._uU(15,"\n    "),t.TgZ(16,"table",4),t._uU(17,"\n      "),t.TgZ(18,"thead"),t._uU(19,"\n        "),t.TgZ(20,"tr"),t._uU(21,"\n          "),t.TgZ(22,"th",5),t._uU(23,"Service name"),t.qZA(),t._uU(24,"\n          "),t.TgZ(25,"th",6),t._uU(26,"Status"),t.qZA(),t._uU(27,"\n          "),t.TgZ(28,"th",6),t._uU(29,"Details"),t.qZA(),t._uU(30,"\n        "),t.qZA(),t._uU(31,"\n      "),t.qZA(),t._uU(32,"\n      "),t.YNc(33,v,5,3,"tbody",7),t._uU(34,"\n    "),t.qZA(),t._uU(35,"\n  "),t.qZA(),t._uU(36,"\n"),t.qZA(),t._uU(37,"\n")),2&a&&(t.xp6(33),t.Q6J("ngIf",o.health))},dependencies:[h.Z,s.mk,s.sg,s.O5,m.BN,s.Nd],encapsulation:2})}return e})()}}]);