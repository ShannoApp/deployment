"use strict";(self.webpackChunkshanno_app_ui=self.webpackChunkshanno_app_ui||[]).push([[431],{2431:(T,d,s)=>{s.r(d),s.d(d,{default:()=>A});var _=s(4716),u=s(3821),g=s(95),p=s(2941),h=s(7);class m{constructor(c,n){this.name=c,this.level=n}}var t=s(5879),f=s(9862),C=s(8156);let v=(()=>{class o{constructor(n,e){this.http=n,this.applicationConfigService=e}changeLevel(n,e){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${n}`),{configuredLevel:e})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}static#t=this.\u0275fac=function(e){return new(e||o)(t.LFG(f.eN),t.LFG(C.y))};static#n=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var a=s(6814),x=s(5597);function U(o,c){1&o&&(t.TgZ(0,"div",11),t._uU(1,"\n    "),t._UZ(2,"div",12),t._uU(3,"\n  "),t.qZA())}function Z(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n        "),t.TgZ(2,"td"),t._uU(3,"\n          "),t.TgZ(4,"small"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t._uU(7,"\n        "),t.qZA(),t._uU(8,"\n        "),t.TgZ(9,"td"),t._uU(10,"\n          "),t.TgZ(11,"button",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changeLevel(i.name,"TRACE"))}),t._uU(12,"\n            TRACE\n          "),t.qZA(),t._uU(13,"\n\n          "),t.TgZ(14,"button",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changeLevel(i.name,"DEBUG"))}),t._uU(15,"\n            DEBUG\n          "),t.qZA(),t._uU(16,"\n\n          "),t.TgZ(17,"button",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changeLevel(i.name,"INFO"))}),t._uU(18,"\n            INFO\n          "),t.qZA(),t._uU(19,"\n\n          "),t.TgZ(20,"button",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changeLevel(i.name,"WARN"))}),t._uU(21,"\n            WARN\n          "),t.qZA(),t._uU(22,"\n\n          "),t.TgZ(23,"button",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changeLevel(i.name,"ERROR"))}),t._uU(24,"\n            ERROR\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"button",13),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.changeLevel(i.name,"OFF"))}),t._uU(27,"\n            OFF\n          "),t.qZA(),t._uU(28,"\n        "),t.qZA(),t._uU(29,"\n      "),t.qZA()}if(2&o){const n=c.$implicit;t.xp6(5),t.Oqu(t.Dn7(6,7,n.name,0,140)),t.xp6(6),t.Q6J("ngClass","TRACE"===n.level?"btn-primary":"btn-light"),t.xp6(3),t.Q6J("ngClass","DEBUG"===n.level?"btn-success":"btn-light"),t.xp6(3),t.Q6J("ngClass","INFO"===n.level?"btn-info":"btn-light"),t.xp6(3),t.Q6J("ngClass","WARN"===n.level?"btn-warning":"btn-light"),t.xp6(3),t.Q6J("ngClass","ERROR"===n.level?"btn-danger":"btn-light"),t.xp6(3),t.Q6J("ngClass","OFF"===n.level?"btn-secondary":"btn-light")}}function L(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",1),t._uU(1,"\n  "),t.TgZ(2,"h2",2),t._uU(3,"Logs"),t.qZA(),t._uU(4,"\n\n  "),t.YNc(5,U,4,0,"div",3),t._uU(6,"\n\n  "),t.TgZ(7,"p"),t._uU(8),t.qZA(),t._uU(9,"\n\n  "),t.TgZ(10,"span"),t._uU(11,"Filter"),t.qZA(),t._uU(12,"\n  "),t.TgZ(13,"input",4),t.NdJ("ngModelChange",function(r){t.CHM(n);const i=t.oxw();return t.KtG(i.filter=r)})("ngModelChange",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.filterAndSort())}),t.qZA(),t._uU(14,"\n\n  "),t.TgZ(15,"table",5),t._uU(16,"\n    "),t.TgZ(17,"thead"),t._uU(18,"\n      "),t.TgZ(19,"tr",6),t.NdJ("predicateChange",function(r){t.CHM(n);const i=t.oxw();return t.KtG(i.orderProp=r)})("ascendingChange",function(r){t.CHM(n);const i=t.oxw();return t.KtG(i.ascending=r)})("sortChange",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.filterAndSort())}),t._uU(20,"\n        "),t.TgZ(21,"th",7)(22,"span"),t._uU(23,"Name"),t.qZA(),t._uU(24," "),t._UZ(25,"fa-icon",8),t.qZA(),t._uU(26,"\n        "),t.TgZ(27,"th",9)(28,"span"),t._uU(29,"Level"),t.qZA(),t._uU(30," "),t._UZ(31,"fa-icon",8),t.qZA(),t._uU(32,"\n      "),t.qZA(),t._uU(33,"\n    "),t.qZA(),t._uU(34,"\n\n    "),t.TgZ(35,"tbody"),t._uU(36,"\n      "),t.YNc(37,Z,30,11,"tr",10),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n  "),t.qZA(),t._uU(40,"\n"),t.qZA()}if(2&o){const n=t.oxw();t.xp6(5),t.Q6J("ngIf",n.isLoading),t.xp6(3),t.hij("There are ",n.loggers.length," loggers."),t.xp6(5),t.Q6J("ngModel",n.filter),t.xp6(6),t.Q6J("predicate",n.orderProp)("ascending",n.ascending),t.xp6(18),t.Q6J("ngForOf",n.filteredAndOrderedLoggers)}}let A=(()=>{class o{constructor(n){this.logsService=n,this.isLoading=!1,this.filter="",this.orderProp="name",this.ascending=!0}ngOnInit(){this.findAndExtractLoggers()}changeLevel(n,e){this.logsService.changeLevel(n,e).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(n=>!this.filter||n.name.toLowerCase().includes(this.filter.toLowerCase())).sort((n,e)=>n[this.orderProp]<e[this.orderProp]?this.ascending?-1:1:n[this.orderProp]>e[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?n.name<e.name?-1:1:0)}findAndExtractLoggers(){this.isLoading=!0,this.logsService.findAll().pipe((0,_.x)(()=>{this.filterAndSort(),this.isLoading=!1})).subscribe({next:n=>this.loggers=Object.entries(n.loggers).map(([e,r])=>new m(e,r.effectiveLevel)),error:()=>this.loggers=[]})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(v))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["jhi-logs"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","logs-page-heading","data-cy","logsPageHeading"],["class","float-end me-3",4,"ngIf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["jhiSortBy","name","scope","col"],["icon","sort"],["jhiSortBy","level","scope","col"],[4,"ngFor","ngForOf"],[1,"float-end","me-3"],[1,"spinner-border"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(e,r){1&e&&(t.YNc(0,L,41,6,"div",0),t._uU(1,"\n")),2&e&&t.Q6J("ngIf",r.loggers)},dependencies:[u.Z,a.mk,a.sg,a.O5,x.BN,a.OU,g.u5,g.Fj,g.JJ,g.On,p.Z,h.Z],encapsulation:2})}return o})()}}]);