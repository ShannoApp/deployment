"use strict";(self.webpackChunkshanno_app_ui=self.webpackChunkshanno_app_ui||[]).push([[592],{6409:(v,d,e)=>{e.d(d,{_l:()=>s,aW:()=>r,cy:()=>a,jo:()=>o,s1:()=>l});const r="asc",o="desc",s="sort",l="deleted",a="defaultSort"},8915:(v,d,e)=>{e.d(d,{H:()=>f});var r=e(5619),o=e(7398),s=e(426),l=e(9025),a=e(9232),n=e(5879),u=e(9862),c=e(8156),g=e(9027),p=e(7622);let f=(()=>{class _{constructor(t,i,h,D){this.http=t,this.applicationConfigService=i,this.firestore=h,this.businessService=D,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/categories"),this.categoryListSubject=new r.X(null),this.categoryListData$=this.categoryListSubject.asObservable(),this.businessService.businessData$.subscribe(E=>{E&&(this.businessId=E.id,this.query().subscribe(m=>{this.categoryListSubject.next(m)}))})}get categoryCollection(){return this.firestore.collection(`businesses/${this.businessId}/categories`)}create(t){let i={...this.convertDateFromClient(t)};return this.categoryCollection.add(i)}update(t){const i=this.convertDateFromClient(t);return this.categoryCollection.doc(i.id).update(i)}partialUpdate(t){const i=this.convertDateFromClient(t);return this.http.patch(`${this.resourceUrl}/${this.getCategoryIdentifier(t)}`,i,{observe:"response"}).pipe((0,o.U)(h=>this.convertResponseFromServer(h)))}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"}).pipe((0,o.U)(i=>this.convertResponseFromServer(i)))}query(t){return(0,a.b)(t),this.categoryCollection.valueChanges({idField:"id"})}delete(t){return this.categoryCollection.doc(t).delete()}getCategoryIdentifier(t){return t.id}compareCategory(t,i){return t&&i?this.getCategoryIdentifier(t)===this.getCategoryIdentifier(i):t===i}addCategoryToCollectionIfMissing(t,...i){const h=i.filter(l.E);if(h.length>0){const D=t.map(m=>this.getCategoryIdentifier(m));return[...h.filter(m=>{const C=this.getCategoryIdentifier(m);return!D.includes(C)&&(D.push(C),!0)}),...t]}return t}convertDateFromClient(t){return{...t,createdDate:t.createdDate?.toJSON()??null,modifiedDate:t.modifiedDate?.toJSON()??null}}convertDateFromServer(t){return{...t,createdDate:t.createdDate?(0,s.Z)(t.createdDate):void 0,modifiedDate:t.modifiedDate?(0,s.Z)(t.modifiedDate):void 0}}convertResponseFromServer(t){return t.clone({body:t.body?this.convertDateFromServer(t.body):null})}convertResponseArrayFromServer(t){return t.clone({body:t.body?t.body.map(i=>this.convertDateFromServer(i)):null})}static#t=this.\u0275fac=function(i){return new(i||_)(n.LFG(u.eN),n.LFG(c.y),n.LFG(g.ST),n.LFG(p.m))};static#e=this.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7786:(v,d,e)=>{e.d(d,{b:()=>r});var r=function(o){return o.PENDING="Pending",o.PARTIAL="Partial",o.PAID="Paid",o.FAILED="Failed",o}(r||{})},2940:(v,d,e)=>{e.d(d,{_:()=>s});var r=e(95),o=e(5879);let s=(()=>{class l{createStockSummaryFormGroup(n={id:null}){const u={...this.getFormDefaults(),...n};return new r.cw({id:new r.NI({value:u.id,disabled:null!==u.id},{nonNullable:!0}),currentStockQuantity:new r.NI(u.currentStockQuantity,{validators:[r.kI.min(0)]}),minimumStockQuantity:new r.NI(u.minimumStockQuantity,{validators:[r.kI.min(0)]}),maximumStockQuantity:new r.NI(u.maximumStockQuantity,{validators:[r.kI.min(0)]}),lastPurchaseDate:new r.NI(u.lastPurchaseDate),lastPurchaseQuantity:new r.NI(u.lastPurchaseQuantity,{validators:[r.kI.min(0)]}),lastSaleDate:new r.NI(u.lastSaleDate),lastSaleQuantity:new r.NI(u.lastSaleQuantity,{validators:[r.kI.min(0)]})})}getStockSummary(n){return n.getRawValue()}resetForm(n,u){const c={...this.getFormDefaults(),...u};n.reset({...c,id:{value:c.id,disabled:null!==c.id}})}getFormDefaults(){return{id:null}}static#t=this.\u0275fac=function(u){return new(u||l)};static#e=this.\u0275prov=o.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},7136:(v,d,e)=>{e.d(d,{_:()=>f});var r=e(5619),o=e(7398),s=e(426),l=e(9025),a=e(9232),n=e(5879),u=e(9862),c=e(8156),g=e(9027),p=e(7622);let f=(()=>{class _{constructor(t,i,h,D){this.http=t,this.applicationConfigService=i,this.firestore=h,this.businessService=D,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/units"),this.unitListSubject=new r.X(null),this.unitListData$=this.unitListSubject.asObservable(),this.businessService.businessData$.subscribe(E=>{E&&(this.businessId=E.id,this.query().subscribe(m=>{this.unitListSubject.next(m)}))})}get unitCollection(){return this.firestore.collection(`businesses/${this.businessId}/units`)}create(t){let i={...this.convertDateFromClient(t)};return this.unitCollection.add(i)}update(t){const i=this.convertDateFromClient(t);return this.unitCollection.doc(i.id).update(i)}partialUpdate(t){const i=this.convertDateFromClient(t);return this.http.patch(`${this.resourceUrl}/${this.getUnitIdentifier(t)}`,i,{observe:"response"}).pipe((0,o.U)(h=>this.convertResponseFromServer(h)))}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"}).pipe((0,o.U)(i=>this.convertResponseFromServer(i)))}query(t){return(0,a.b)(t),this.unitCollection.valueChanges({idField:"id"}).pipe((0,o.U)(h=>h.map(D=>this.convertDateFromServer(D))))}delete(t){return this.unitCollection.doc(t).delete()}getUnitIdentifier(t){return t.id}compareUnit(t,i){return t&&i?this.getUnitIdentifier(t)===this.getUnitIdentifier(i):t===i}addUnitToCollectionIfMissing(t,...i){const h=i.filter(l.E);if(h.length>0){const D=t.map(m=>this.getUnitIdentifier(m));return[...h.filter(m=>{const C=this.getUnitIdentifier(m);return!D.includes(C)&&(D.push(C),!0)}),...t]}return t}convertDateFromClient(t){return{...t,createdDate:t.createdDate?.toJSON()??null,modifiedDate:t.modifiedDate?.toJSON()??null}}convertDateFromServer(t){return{...t,createdDate:t.createdDate?(0,s.Z)(t.createdDate):void 0,modifiedDate:t.modifiedDate?(0,s.Z)(t.modifiedDate):void 0}}convertResponseFromServer(t){return t.clone({body:t.body?this.convertDateFromServer(t.body):null})}convertResponseArrayFromServer(t){return t.clone({body:t.body?t.body.map(i=>this.convertDateFromServer(i)):null})}static#t=this.\u0275fac=function(i){return new(i||_)(n.LFG(u.eN),n.LFG(c.y),n.LFG(g.ST),n.LFG(p.m))};static#e=this.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},4675:(v,d,e)=>{e.d(d,{H7:()=>l,K3:()=>a}),e(426);var s=e(5879);let l=(()=>{class n{transform(c){return c?c.format("D MMM YYYY"):""}static#t=this.\u0275fac=function(g){return new(g||n)};static#e=this.\u0275pipe=s.Yjl({name:"formatMediumDate",type:n,pure:!0,standalone:!0})}return n})(),a=(()=>{class n{transform(c){return c?c.format("D MMM YYYY HH:mm:ss"):""}static#t=this.\u0275fac=function(g){return new(g||n)};static#e=this.\u0275pipe=s.Yjl({name:"formatMediumDatetime",type:n,pure:!0,standalone:!0})}return n})()},7:(v,d,e)=>{e.d(d,{Z:()=>u});var r=e(8645),o=e(9773),s=e(5597),l=e(590),a=e(2941),n=e(5879);let u=(()=>{class c{constructor(p){this.sort=p,this.sortIcon=l.CmM,this.sortAscIcon=l.foy,this.sortDescIcon=l.u9C,this.destroy$=new r.x,p.predicateChange.pipe((0,o.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition()),p.ascendingChange.pipe((0,o.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition())}onClick(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}ngAfterContentInit(){this.updateIconDefinition()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIconDefinition(){if(this.iconComponent){let p=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(p=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=p.iconName,this.iconComponent.render()}}static#t=this.\u0275fac=function(f){return new(f||c)(n.Y36(a.Z,1))};static#e=this.\u0275dir=n.lG2({type:c,selectors:[["","jhiSortBy",""]],contentQueries:function(f,_,I){if(1&f&&n.Suo(I,s.BN,5),2&f){let t;n.iGM(t=n.CRH())&&(_.iconComponent=t.first)}},hostBindings:function(f,_){1&f&&n.NdJ("click",function(){return _.onClick()})},inputs:{jhiSortBy:"jhiSortBy"},standalone:!0})}return c})()},2941:(v,d,e)=>{e.d(d,{Z:()=>o});var r=e(5879);let o=(()=>{class s{constructor(){this.predicateChange=new r.vpe,this.ascendingChange=new r.vpe,this.sortChange=new r.vpe}get predicate(){return this._predicate}set predicate(a){this._predicate=a,this.predicateChange.emit(a)}get ascending(){return this._ascending}set ascending(a){this._ascending=a,this.ascendingChange.emit(a)}sort(a){this.ascending=a!==this.predicate||!this.ascending,this.predicate=a,this.predicateChange.emit(a),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275dir=r.lG2({type:s,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"},standalone:!0})}return s})()},5368:(v,d,e)=>{e.d(d,{K:()=>o});var r=e(5879);let o=(()=>{class s{constructor(){this.collator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"})}startSort(a,n){return(u,c)=>this.collator.compare(u[a],c[a])*n}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()}}]);